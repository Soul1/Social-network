{"version":3,"sources":["components/Users/users.module.css","components/common/Paginator/paginator.module.css","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/Selectors/user-selectors.js","components/Users/UsersContainer.js"],"names":["module","exports","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPotionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","paginate","onClick","filter","p","map","selectedPage","selectPage","key","User","user","followingInProgress","unfollow","follow","inner","userInfo","img","to","id","src","photos","small","defaultAvatar","alt","followed","disabled","some","btn","wrapper","info","name","status","location","Users","props","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNum","requestUsers","setCurrentPage","this","Preloader","React","Component","compose","connect","toggleFollowingProgress"],"mappings":"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","file":"static/js/3.d6dc353d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inner\":\"users_inner__5gMoO\",\"wrapper\":\"users_wrapper__HpSrm\",\"user\":\"users_user__3K78N\",\"userInfo\":\"users_userInfo__2KNiq\",\"img\":\"users_img__2LTAe\",\"btn\":\"users_btn__OnE4W\",\"info\":\"users_info__3hvec\",\"location\":\"users_location__1JGbx\",\"paginate\":\"users_paginate__1ATWW\",\"selectedPage\":\"users_selectedPage__w-6Zx\",\"selectPage\":\"users_selectPage__2_NGP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginate\":\"paginator_paginate__2LZA4\",\"selectedPage\":\"paginator_selectedPage__3aftU\",\"selectPage\":\"paginator_selectPage__jQZSK\"};","import React, {useState} from \"react\";\r\nimport s from \"./paginator.module.css\";\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 15}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount/ portionSize);\r\n  let [portionNumber, setPotionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return <div className={s.paginate}>\r\n    {portionNumber > 1\r\n    && <button onClick={() => {setPotionNumber(portionNumber - 1)}}>PREV</button>}\r\n    {pages\r\n      .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n      .map(p => {\r\n      return <span\r\n        className={currentPage === p &&\r\n        s.selectedPage || s.selectPage}\r\n        key={p}\r\n        onClick={() => {\r\n          onPageChanged(p)\r\n\r\n        }}>{p}</span>\r\n    })}\r\n    {portionCount > portionNumber\r\n    && <button onClick={() => {setPotionNumber(portionNumber + 1)}}>NEXT</button>}\r\n  </div>\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from \"./users.module.css\";\r\nimport defaultAvatar from './../../assets/image/user.jpg'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n  return (\r\n    <div className={s.inner}>\r\n      \r\n        <div className={s.user}>\r\n\r\n          <div className={s.userInfo}>\r\n            <div className={s.img}>\r\n              <NavLink to={'/profile/' + user.id}>\r\n                <img src={user.photos.small != null ?\r\n                  user.photos.small\r\n                  : defaultAvatar} alt=\"Users avatar\"/>\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {user.followed ?\r\n                <button disabled={followingInProgress.some(id => id === user.id)}\r\n\r\n                        onClick={() => unfollow(user.id)}\r\n\r\n                        className={s.btn}>Unfollow</button>\r\n\r\n                : <button disabled={followingInProgress.some(id => id === user.id)}\r\n\r\n                          onClick={() => follow(user.id)}\r\n\r\n                          className={s.btn}>Follow</button>\r\n              }\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <div className={s.wrapper}>\r\n            <div className={s.info}>\r\n              <h3>{user.name}</h3>\r\n              <p>{user.status ? user.status : \"Нет статуса\"}</p>\r\n            </div>\r\n            <div className={s.location}>\r\n              <div>{\"user.location.country\"}</div>\r\n              <div>{\"user.location.city\"}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default User;","import React from \"react\";\r\nimport s from \"./users.module.css\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n  return (\r\n\r\n    <div className={s.inner}>\r\n      <Paginator\r\n        totalItemsCount={props.totalItemsCount}\r\n        pageSize={props.pageSize}\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n      />\r\n      {\r\n        props.users.map(u => <User\r\n          key={u.id}\r\n          user={u}\r\n          follow={props.follow}\r\n          unfollow={props.unfollow}\r\n          followingInProgress={props.followingInProgress}\r\n        />)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  follow,\r\n  setCurrentPage,\r\n  unfollow,\r\n  toggleFollowingProgress,\r\n  requestUsers,\r\n} from \"../../redux/Reducers/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Prealoader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount, getUsers\r\n} from \"../../redux/Selectors/user-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNum) => {\r\n    this.props.requestUsers(pageNum, this.props.pageSize)\r\n    this.props.setCurrentPage(pageNum)\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader/> : null}\r\n\r\n      <Users totalItemsCount={this.props.totalItemsCount}\r\n             pageSize={this.props.pageSize}\r\n             currentPage={this.props.currentPage}\r\n             onPageChanged={this.onPageChanged}\r\n             users={this.props.users}\r\n             follow={this.props.follow}\r\n             unfollow={this.props.unfollow}\r\n             followingInProgress={this.props.followingInProgress}\r\n      />\r\n\r\n    </>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalItemsCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,\r\n    {\r\n      follow, unfollow, setCurrentPage,\r\n      toggleFollowingProgress, requestUsers,})\r\n)(UsersContainer)\r\n"],"sourceRoot":""}